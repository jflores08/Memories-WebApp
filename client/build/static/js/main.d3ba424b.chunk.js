(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{106:function(e,t,n){},120:function(e,t,n){},145:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(47),a=n.n(r),s=(n(86),n(10)),i=n(3),j=(n(87),n(8)),o=n.n(j),b=(n(106),n(37)),u=n(2);function l(e){var t=Object(c.useState)(-74),n=Object(i.a)(t,2),r=(n[0],n[1],Object(c.useState)(40.7128)),a=Object(i.a)(r,2),j=(a[0],a[1],Object(c.useState)(10)),o=Object(i.a)(j,2),l=(o[0],o[1],Object(c.useState)([])),O=Object(i.a)(l,2),d=(O[0],O[1],Object(c.useState)(null)),h=Object(i.a)(d,2),x=(h[0],h[1],Object(c.useState)(null)),m=Object(i.a)(x,2),p=(m[0],m[1],Object(c.useState)(!1)),g=Object(i.a)(p,2),f=(g[0],g[1],Object(c.useState)({latitude:40.755333,longitude:-73.983933,width:"100vw",height:"100vh",zoom:10})),v=Object(i.a)(f,2),S=v[0],y=v[1];return Object(u.jsx)("div",{children:Object(u.jsxs)(b.c,Object(s.a)(Object(s.a)({},S),{},{mapboxApiAccessToken:"pk.eyJ1Ijoiam9uNjEiLCJhIjoiY2t1ZTZ1Zzc1MWVicjJvbXhpeTF4b2h2bSJ9.U2K0n8U4u5QVCJ0GXI6QHQ",mapStyle:"mapbox://styles/jon61/cku5hizxv2ll918tiz3zbkvhb",onViewportChange:function(e){y(e)},children:[Object(u.jsx)(b.a,{latitude:40.748817,longitude:-73.985428,children:Object(u.jsx)("h1",{children:"Hello \u26f5\ufe0f\ud83c\udff4\u200d\u2620\ufe0f"})}),Object(u.jsxs)(b.b,{latitude:52.4815,longitude:13.4226,closeButton:!0,closeOnClick:!1,children:[Object(u.jsx)("div",{children:Object(u.jsx)("h1",{children:"hoy Mattie \u26f5\ufe0f\ud83c\udff4\u200d\u2620\ufe0f"})}),"\u200b"]})]}))})}n(120);function O(e){var t=Object(c.useState)(""),n=Object(i.a)(t,2);n[0],n[1];return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:" Imagine a Home Page \ud83e\udd84 \ud83c\udf08"}),Object(u.jsx)("div",{id:"mapbox",children:Object(u.jsx)(l,{})})]})}var d=n(7),h=n(9);function x(e){var t=function(){o.a.delete("/api/auth/logout").then((function(e){return e.data})).catch((function(e){return e.response.data})).then((function(){e.setUser(null)}))};return Object(u.jsx)("nav",{children:e.user?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(h.b,{to:"/",children:Object(u.jsx)("button",{children:"Home"})}),Object(u.jsx)(h.b,{to:"/memories/profile",children:Object(u.jsx)("button",{children:"Profile"})}),Object(u.jsx)(h.b,{to:"/memories",children:Object(u.jsx)("button",{children:"Memories"})}),Object(u.jsx)(h.b,{to:"/",onClick:function(){return t()},children:Object(u.jsx)("button",{children:"Logout"})})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(h.b,{to:"/signup",children:Object(u.jsx)("button",{children:"SignUp"})}),Object(u.jsx)(h.b,{to:"/login",children:Object(u.jsx)("button",{children:"LogIn"})})]})})}function m(e){var t=Object(c.useState)(""),n=Object(i.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(""),j=Object(i.a)(s,2),b=j[0],l=j[1],O=Object(c.useState)(""),d=Object(i.a)(O,2),h=d[0],x=d[1],m=Object(c.useState)(""),p=Object(i.a)(m,2),g=p[0],f=p[1],v=Object(c.useState)([]),S=Object(i.a)(v,2),y=(S[0],S[1]),F=Object(c.useState)([]),C=Object(i.a)(F,2),w=(C[0],C[1]),U=Object(c.useState)(1),M=Object(i.a)(U,2),I=M[0],P=M[1],k=Object(c.useState)(0),T=Object(i.a)(k,2),E=(T[0],T[1]),D=Object(c.useState)({}),L=Object(i.a)(D,2),A=(L[0],L[1]);return Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{children:"Add Memory"}),Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n={title:r,description:b,pic:h,tagline:g,radius:I};console.log(n),o.a.post("/api/memories/add",n).then((function(t){a(""),l(""),x(""),f(""),y(),w([]),P(),E(),A({}),e.refreshMemories()})).catch((function(e){return console.log(e)}))},encType:"multipart/form-data",children:[Object(u.jsx)("label",{htmlFor:"title",children:"Title: "}),Object(u.jsx)("input",{type:"text",name:"title",value:r,onChange:function(e){return a(e.target.value)}}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{htmlFor:"description",children:"Describe your Memory "}),Object(u.jsx)("br",{}),Object(u.jsx)("textarea",{id:"description",type:"text",name:"description",value:b,onChange:function(e){return l(e.target.value)},rows:"5",cols:"33",children:" It was a dark and stormy night..."}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{htmlFor:"pic",children:"Pic: "}),Object(u.jsx)("input",{type:"file",name:"pic",value:h,onChange:function(e){return x(e.target.value)}}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{htmlFor:"tagline",children:"Tagline: "}),Object(u.jsx)("input",{type:"text",name:"tagline",value:g,onChange:function(e){return f(e.target.value)}}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{htmlFor:"radius",children:" Radius: "}),Object(u.jsx)("input",{type:"number",name:"radius",value:I,onChange:function(e){return P(e.target.value)}}),Object(u.jsx)("label",{htmlFor:"radius",children:" Radius: "}),Object(u.jsx)("input",{type:"number",name:"radius",value:I,onChange:function(e){return P(e.target.value)}}),Object(u.jsx)("button",{type:"submit",children:"Add Memory"})]})]})}function p(e){return console.log(e),Object(u.jsxs)("div",{children:[Object(u.jsx)(h.b,{to:"/memories/".concat(e._id),children:Object(u.jsx)("h2",{children:e.title})}),Object(u.jsx)("p",{children:e.description})]})}function g(e){var t=Object(c.useState)([]),n=Object(i.a)(t,2),r=n[0],a=n[1],j=function(){o.a.get("/api/memories").then((function(e){console.log(e),a(e.data)})).catch((function(e){return console.log(e)}))};return Object(c.useEffect)((function(){j()}),[]),Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"Imagine a Memory Map \ud83e\udd84 \ud83d\uddfa \ud83c\udf08"}),r.map((function(e){return Object(u.jsx)(p,Object(s.a)({},e),e._id)})),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)(m,{refreshMemories:j})]})}function f(e){var t=Object(c.useState)(null),n=Object(i.a)(t,2),r=n[0],a=n[1],s=e.match.params.id;return Object(c.useEffect)((function(){o.a.get("/api/memories/".concat(s)).then((function(e){console.log(e),a(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(u.jsx)("div",{children:r&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h1",{children:r.title}),Object(u.jsx)("p",{children:r.description}),Object(u.jsx)("p",{children:r.location}),Object(u.jsx)(h.b,{to:"/memories/edit/".concat(r._id),children:Object(u.jsx)("button",{children:"Edit Memory"})})]})})}function v(e){var t=e.match.params.id,n=Object(c.useState)(""),r=Object(i.a)(n,2),a=(r[0],r[1]),s=Object(c.useState)(""),j=Object(i.a)(s,2),b=j[0],l=j[1],O=Object(c.useState)(""),d=Object(i.a)(O,2),h=d[0],x=d[1],m=Object(c.useState)(""),p=Object(i.a)(m,2),g=p[0],f=p[1],v=Object(c.useState)(""),S=Object(i.a)(v,2),y=S[0],F=S[1],C=Object(c.useState)([]),w=Object(i.a)(C,2),U=w[0],M=w[1],I=Object(c.useState)(1),P=Object(i.a)(I,2),k=P[0],T=P[1];Object(c.useEffect)((function(){o.a.get("/api/memories/".concat(t)).then((function(e){console.log(e),a(e.data),l(e.data.title),x(e.data.description),f(e.data.pic),F(e.data.tagline),M(e.data.location),T(e.data.radius)})).catch((function(e){return console.log(e)}))}),[]);return Object(u.jsx)("div",{children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h1",{children:"Imagine an Edit Page \ud83e\udd84 \ud83c\udf08"}),Object(u.jsx)("h3",{children:"Edit Memory"}),Object(u.jsx)("button",{onClick:function(){o.a.delete("/api/memories/".concat(t)).then((function(){e.history.push("/memories")})).catch((function(e){return console.log(e)}))},children:"Delete Memory \ud83d\uddd1"})]})}),Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{children:"Add Memory"}),Object(u.jsxs)("form",{onSubmit:function(n){n.preventDefault();var c={title:b,description:h,pic:g,tagline:y,location:U};o.a.put("/api/memories/".concat(t),c).then((function(n){e.history.push("/memories/".concat(t))})).catch((function(e){return console.log(e)}))},children:[Object(u.jsx)("label",{htmlFor:"title",children:"Title: "}),Object(u.jsx)("input",{type:"text",name:"title",value:b,onChange:function(e){return l(e.target.value)}}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{htmlFor:"description",children:"Describe your Memory "}),Object(u.jsx)("br",{}),Object(u.jsx)("textarea",{id:"description",type:"text",name:"description",value:h,onChange:function(e){return x(e.target.value)},rows:"5",cols:"33",children:" It was a dark and stormy night..."}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{htmlFor:"pic",children:"Pic: "}),Object(u.jsx)("input",{type:"text",name:"pic",value:g,onChange:function(e){return f(e.target.value)}}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{htmlFor:"tagline",children:"Tagline: "}),Object(u.jsx)("input",{type:"text",name:"tagline",value:y,onChange:function(e){return F(e.target.value)}}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{htmlFor:"radius",children:" Radius: "}),Object(u.jsx)("input",{type:"number",name:"radius",value:k,onChange:function(e){return T(e.target.value)}}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{htmlFor:"radius",children:" Location: "}),Object(u.jsx)("input",{type:"array",name:"radius",value:U,onChange:function(e){return M(e.target.value)}}),Object(u.jsx)("button",{type:"submit",children:"Update Memory"})]})]})]})})}function S(e){var t=Object(c.useState)(""),n=Object(i.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(""),j=Object(i.a)(s,2),b=j[0],l=j[1],O=Object(c.useState)(""),d=Object(i.a)(O,2),h=d[0],x=d[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h1",{children:"Sign Up"}),Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault(),function(e,t){return o.a.post("/api/auth/signup",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))}(r,b).then((function(t){console.log(t),t.message?(a(""),l(""),x(t.message)):(e.setUser(t),e.history.push("/memories"))})).catch((function(e){return console.log(e)}))},children:[Object(u.jsx)("label",{htmlFor:"username",children:"Username: "}),Object(u.jsx)("input",{type:"text",name:"username",value:r,onChange:function(e){return a(e.target.value)}}),Object(u.jsx)("label",{htmlFor:"password",children:"Password: "}),Object(u.jsx)("input",{type:"password",name:"password",value:b,onChange:function(e){return l(e.target.value)}}),Object(u.jsx)("button",{type:"submit",children:"Sign Up"}),h&&Object(u.jsx)("h3",{children:h})]})]})}function y(e){var t=Object(c.useState)(""),n=Object(i.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(""),j=Object(i.a)(s,2),b=j[0],l=j[1],O=Object(c.useState)(""),d=Object(i.a)(O,2),h=d[0],x=d[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h1",{children:"Log In"}),Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault(),function(e,t){return o.a.post("/api/auth/login",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))}(r,b).then((function(t){console.log(t),t.message?(a(""),l(""),x(t.message)):(e.setUser(t),e.history.push("/memories/profile"))})).catch((function(e){return console.log(e)}))},children:[Object(u.jsx)("label",{htmlFor:"username",children:"Username: "}),Object(u.jsx)("input",{type:"text",name:"username",value:r,onChange:function(e){return a(e.target.value)}}),Object(u.jsx)("label",{htmlFor:"password",children:"Password: "}),Object(u.jsx)("input",{type:"password",name:"password",value:b,onChange:function(e){return l(e.target.value)}}),Object(u.jsx)("button",{type:"submit",children:"Log In \ud83d\udddd"}),h&&Object(u.jsx)("h3",{children:h})]})]})}var F=n(34),C=["component","user","path","redirectPath"],w=function(e){var t=e.component,n=e.user,c=e.path,r=e.redirectPath,a=void 0===r?"/":r,i=Object(F.a)(e,C);return Object(u.jsx)(d.b,{exact:!0,path:c,render:function(e){return n?Object(u.jsx)(t,Object(s.a)(Object(s.a)(Object(s.a)({},e),i),{},{user:n})):Object(u.jsx)(d.a,{to:a})}})},U=n(81);function M(e){console.log("user is: ",e.user);var t=Object(c.useState)([]),n=Object(i.a)(t,2),r=(n[0],n[1],Object(c.useState)([])),a=Object(i.a)(r,2),j=a[0],b=a[1],l=Object(c.useState)([]),O=Object(i.a)(l,2),d=O[0],h=O[1],x=e.user._id;function g(e){if(e.User)return e.User==x}console.log("user id from browser: ",x);var f=function(){o.a.get("/api/memories").then((function(e){console.log("data is: ",e.data),console.log("userId from database is: ",e.data.User),b(e.data),h(j.filter(g)),console.log("User Memories",d)})).catch((function(e){return console.log(e)}))};return Object(c.useEffect)((function(){f()}),[]),Object(u.jsxs)("div",{children:[Object(u.jsxs)("h1",{children:[e.user.username,"'s Profile Page"]}),d.map((function(e){return Object(u.jsx)(p,Object(s.a)({},e),e._id)})),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)(m,{refreshMemories:f})]})}n.n(U)()("http://localhost:5005");var I=function(e){var t=Object(c.useState)(e.user),n=Object(i.a)(t,2),r=n[0],a=n[1],j=function(e){a(e)};return console.log("App js: ",r),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(x,{user:r,setUser:j}),Object(u.jsxs)(d.d,{children:[Object(u.jsx)(d.b,{exact:!0,path:"/",component:O}),Object(u.jsx)(w,{exact:!0,path:"/memories",user:r,component:g}),Object(u.jsx)(w,Object(s.a)(Object(s.a)({exact:!0,path:"/memories/profile",user:r,setUser:j},e),{},{component:M})),Object(u.jsx)(d.b,{exact:!0,path:"/memories/:id",component:f}),Object(u.jsx)(d.b,{exact:!0,path:"/memories/edit/:id",component:v}),Object(u.jsx)(d.b,{exact:!0,path:"/signup",render:function(e){return Object(u.jsx)(S,Object(s.a)({setUser:j},e))}}),Object(u.jsx)(d.b,{exact:!0,path:"/login",render:function(e){return Object(u.jsx)(y,Object(s.a)({setUser:j},e))}})]})]})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,146)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};n(42);o.a.get("/api/auth/loggedin").then((function(e){console.log("logged in user: ",e.data);var t=e.data;a.a.render(Object(u.jsx)(h.a,{children:Object(u.jsx)(I,{user:t})}),document.getElementById("root"))})),P()},86:function(e,t,n){},87:function(e,t,n){}},[[145,1,2]]]);
//# sourceMappingURL=main.d3ba424b.chunk.js.map