(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{122:function(e,t,c){},129:function(e,t,c){},130:function(e,t,c){},169:function(e,t,c){},170:function(e,t,c){},171:function(e,t,c){},172:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(49),i=c.n(a),r=(c(90),c(8)),s=c(3),j=(c(91),c(7)),o=c.n(j),b=c(11),u=c(10),l=(c(122),c(1));var O=function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),c=t[0],a=(t[1],Object(n.useState)(40.748817)),i=Object(s.a)(a,2),j=i[0],O=(i[1],Object(n.useState)(-73.985428)),d=Object(s.a)(O,2),h=d[0],x=(d[1],Object(n.useState)(9)),p=Object(s.a)(x,2),m=p[0],g=(p[1],Object(n.useState)({latitude:j,longitude:h,width:"85vw",height:"100vh",zoom:10})),f=Object(s.a)(g,2),v=f[0],y=f[1],S=Object(n.useState)([]),F=Object(s.a)(S,2),C=F[0],P=F[1],U=Object(n.useState)([]),M=Object(s.a)(U,2),k=(M[0],M[1],Object(n.useState)("")),w=Object(s.a)(k,2);return w[0],w[1],Object(n.useEffect)((function(){o.a.get("/api/memories/public").then((function(e){console.log("Get marker data: ",e),P(e.data),console.log("title: ",JSON.parse(e.data[3].location))})).catch((function(e){return console.log(e)}))}),[]),Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"sidebar",children:["Longitude: ",h," | Latitude: ",j," | Zoom: ",m]}),Object(l.jsxs)(b.e,Object(r.a)(Object(r.a)({},v),{},{mapboxApiAccessToken:"pk.eyJ1Ijoiam9uNjEiLCJhIjoiY2t1ZTZ1Zzc1MWVicjJvbXhpeTF4b2h2bSJ9.U2K0n8U4u5QVCJ0GXI6QHQ",mapStyle:"mapbox://styles/jon61/cku5hizxv2ll918tiz3zbkvhb",trackUserLocation:!0,onViewportChange:function(e){y(e)},children:[Object(l.jsx)(b.a,{style:{right:10,top:100},positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0,label:"Find Me"}),Object(l.jsx)(b.c,{style:{right:10,top:10}}),Object(l.jsx)(b.b,{latitude:42.748817,longitude:-73.985428,children:Object(l.jsx)("h1",{class:"tagline",children:"Hello \u26f5\ufe0f\ud83c\udff4\u200d\u2620\ufe0f"})}),C.map((function(e){return Object(l.jsx)(b.b,{latitude:e.latitude,longitude:e.longitude,children:Object(l.jsxs)("p",{class:"tagline",children:[" ",Object(l.jsx)(u.b,{to:"/memories/".concat(e._id),children:e.title})]})})})),c?Object(l.jsxs)(b.d,{latitude:40.748817,longitude:-73.985428,children:[Object(l.jsx)("div",{children:Object(l.jsx)("h1",{children:"Hello \u26f5\ufe0f\ud83c\udff4\u200d\u2620\ufe0f"})}),"\u200b"]}):null]}))]})};c(129);function d(e){var t=Object(n.useState)(""),c=Object(s.a)(t,2);c[0],c[1];return Object(l.jsxs)("div",{id:"HomePage",children:[Object(l.jsx)("h1",{id:"greeting",children:" Explore to find the Footprints left behind by others"}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("h2",{id:"logInRequest",children:"Log In to leave your own"}),Object(l.jsx)("div",{id:"mapbox",children:Object(l.jsx)(O,{})})]})}var h=c(9);function x(e){var t=function(){o.a.delete("/api/auth/logout").then((function(e){return e.data})).catch((function(e){return e.response.data})).then((function(){e.setUser(null)}))};return Object(l.jsx)("nav",{children:e.user?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(u.b,{to:"/",children:Object(l.jsx)("button",{children:"Home"})}),Object(l.jsx)(u.b,{to:"/memories/profile",children:Object(l.jsx)("button",{children:"Profile"})}),Object(l.jsx)(u.b,{to:"/memories",children:Object(l.jsx)("button",{children:"Memories"})}),Object(l.jsx)(u.b,{to:"/",onClick:function(){return t()},children:Object(l.jsx)("button",{children:"Logout"})})]}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(u.b,{to:"/signup",children:Object(l.jsx)("button",{children:"SignUp"})}),Object(l.jsx)(u.b,{to:"/login",children:Object(l.jsx)("button",{children:"LogIn"})})]})})}function p(e){var t=Object(n.useState)(""),c=Object(s.a)(t,2),a=c[0],i=c[1],r=Object(n.useState)(""),j=Object(s.a)(r,2),b=j[0],u=j[1],O=Object(n.useState)(""),d=Object(s.a)(O,2),h=d[0],x=d[1],p=Object(n.useState)(""),m=Object(s.a)(p,2),g=m[0],f=m[1],v=Object(n.useState)([]),y=Object(s.a)(v,2),S=(y[0],y[1]),F=Object(n.useState)(!0),C=Object(s.a)(F,2),P=C[0],U=C[1],M=Object(n.useState)([]),k=Object(s.a)(M,2),w=k[0],I=k[1],L=Object(n.useState)([]),T=Object(s.a)(L,2),J=T[0],E=T[1],z=Object(n.useState)(1),A=Object(s.a)(z,2),Z=A[0],H=A[1],Q=Object(n.useState)(0),D=Object(s.a)(Q,2),V=(D[0],D[1]),_=Object(n.useState)({}),N=Object(s.a)(_,2),X=(N[0],N[1]);return Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"Add Memory"}),Object(l.jsxs)("form",{onSubmit:function(t){t.preventDefault();var c={title:a,description:b,pic:h,tagline:g,privacy:P,latitude:w,longitude:J,radius:Z};console.log(c),o.a.post("/api/memories/add",c).then((function(t){i(""),u(""),x(""),f(""),U(),S(),I([]),E([]),H(),V(),X({}),e.refreshMemories()})).catch((function(e){return console.log(e)}))},encType:"multipart/form-data",children:[Object(l.jsx)("label",{htmlFor:"title",children:"Title: "}),Object(l.jsx)("input",{type:"text",name:"title",value:a,onChange:function(e){return i(e.target.value)}}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"description",children:"Describe your Memory "}),Object(l.jsx)("br",{}),Object(l.jsx)("textarea",{id:"description",type:"text",name:"description",value:b,onChange:function(e){return u(e.target.value)},rows:"5",cols:"33",children:" It was a dark and stormy night..."}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"pic",children:"Pic: "}),Object(l.jsx)("input",{type:"file",name:"pic",value:h,onChange:function(e){return x(e.target.value)}}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"tagline",children:"Tagline: "}),Object(l.jsx)("input",{type:"text",name:"tagline",value:g,onChange:function(e){return f(e.target.value)}}),Object(l.jsx)("label",{htmlFor:"privacy",children:"Private/Public: "}),Object(l.jsxs)("select",{name:"Privacy",id:"Privacy",onChange:function(e){return U(e.target.value)},children:[Object(l.jsx)("option",{value:"false",children:"Public"}),Object(l.jsx)("option",{value:"true",children:"Private"})]}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"latitude",children:" Latitude: "}),Object(l.jsx)("input",{type:"number",name:"latitude",value:w,onChange:function(e){return I(e.target.value)}}),Object(l.jsx)("label",{htmlFor:"longitude",children:" Longitude: "}),Object(l.jsx)("input",{type:"array",name:"longitude",value:J,onChange:function(e){return E(e.target.value)}}),Object(l.jsx)("label",{htmlFor:"radius",children:" Radius: "}),Object(l.jsx)("input",{type:"number",name:"radius",value:Z,onChange:function(e){return H(e.target.value)}}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("button",{type:"submit",children:"Add Memory"})]})]})}function m(e){var t=Object(n.useState)("Test"),c=Object(s.a)(t,2);c[0],c[1];return console.log("Memory Card props: ",e),Object(l.jsxs)("div",{children:[Object(l.jsx)(u.b,{to:"/memories/".concat(e._id),children:Object(l.jsx)("h2",{children:e.title})}),Object(l.jsx)("p",{children:e.description}),Object(l.jsx)("p",{children:e.privacy})]})}c(130);var g=c(26),f=c.n(g);f.a.accessToken="pk.eyJ1Ijoiam9uNjEiLCJhIjoiY2t1ZTZ1Zzc1MWVicjJvbXhpeTF4b2h2bSJ9.U2K0n8U4u5QVCJ0GXI6QHQ";c(131)({accessToken:f.a.accessToken});function v(e){var t=Object(n.useState)([]),c=Object(s.a)(t,2),a=c[0],i=c[1],j=function(){o.a.get("/api/memories").then((function(e){console.log(e),i(e.data)})).catch((function(e){return console.log(e)}))};return Object(n.useEffect)((function(){j()}),[]),Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"Imagine a Memory Map \ud83e\udd84 \ud83d\uddfa \ud83c\udf08"}),a.map((function(e){return Object(l.jsx)(m,Object(r.a)({},e),e._id)})),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)(p,{refreshMemories:j})]})}function y(e){var t=Object(n.useState)(null),c=Object(s.a)(t,2),a=c[0],i=c[1],r=e.match.params.id;return Object(n.useEffect)((function(){o.a.get("/api/memories/".concat(r)).then((function(e){console.log(e),i(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(l.jsx)("div",{children:a&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h1",{children:a.title}),Object(l.jsx)("p",{children:a.description}),Object(l.jsxs)("p",{children:["[",a.latitude,", ",a.longitude,"]"]}),Object(l.jsx)(u.b,{to:"/memories/edit/".concat(a._id),children:Object(l.jsx)("button",{children:"Edit Memory"})})]})})}function S(e){var t=e.match.params.id,c=Object(n.useState)(""),a=Object(s.a)(c,2),i=(a[0],a[1]),r=Object(n.useState)(""),j=Object(s.a)(r,2),b=j[0],u=j[1],O=Object(n.useState)(""),d=Object(s.a)(O,2),h=d[0],x=d[1],p=Object(n.useState)(""),m=Object(s.a)(p,2),g=m[0],f=m[1],v=Object(n.useState)(""),y=Object(s.a)(v,2),S=y[0],F=y[1],C=Object(n.useState)(!1),P=Object(s.a)(C,2),U=P[0],M=P[1],k=Object(n.useState)([]),w=Object(s.a)(k,2),I=w[0],L=w[1],T=Object(n.useState)([]),J=Object(s.a)(T,2),E=J[0],z=J[1],A=Object(n.useState)(1),Z=Object(s.a)(A,2),H=Z[0],Q=Z[1];Object(n.useEffect)((function(){o.a.get("/api/memories/".concat(t)).then((function(e){console.log(e),i(e.data),u(e.data.title),x(e.data.description),f(e.data.pic),F(e.data.tagline),M(e.data.Private),L(e.data.latitude),z(e.data.longitude),Q(e.data.radius)})).catch((function(e){return console.log(e)}))}),[]);return Object(l.jsx)("div",{children:Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{children:Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h1",{children:"Imagine an Edit Page \ud83e\udd84 \ud83c\udf08"}),Object(l.jsx)("h3",{children:"Edit Memory"}),Object(l.jsx)("button",{onClick:function(){o.a.delete("/api/memories/".concat(t)).then((function(){e.history.push("/memories")})).catch((function(e){return console.log(e)}))},children:"Delete Memory \ud83d\uddd1"})]})}),Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"Add Memory"}),Object(l.jsxs)("form",{onSubmit:function(c){c.preventDefault(),console.log("Private? ",U);var n={title:b,description:h,pic:g,tagline:S,privacy:U,latitude:I,longitude:E,radius:H};o.a.put("/api/memories/".concat(t),n).then((function(c){e.history.push("/memories/".concat(t))})).catch((function(e){return console.log(e)}))},children:[Object(l.jsx)("label",{htmlFor:"title",children:"Title: "}),Object(l.jsx)("input",{type:"text",name:"title",value:b,onChange:function(e){return u(e.target.value)}}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"description",children:"Describe your Memory "}),Object(l.jsx)("br",{}),Object(l.jsx)("textarea",{id:"description",type:"text",name:"description",value:h,onChange:function(e){return x(e.target.value)},rows:"5",cols:"33",children:" It was a dark and stormy night..."}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"pic",children:"Pic: "}),Object(l.jsx)("input",{type:"text",name:"pic",value:g,onChange:function(e){return f(e.target.value)}}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"tagline",children:"Tagline: "}),Object(l.jsx)("input",{type:"text",name:"tagline",value:S,onChange:function(e){return F(e.target.value)}}),Object(l.jsx)("label",{htmlFor:"privacy",children:"Private/Public: "}),Object(l.jsxs)("select",{name:"Privacy",id:"Privacy",onChange:function(e){return M(e.target.value)},children:[Object(l.jsx)("option",{children:"Public/Private"}),Object(l.jsx)("option",{value:"false",children:"Public"}),Object(l.jsx)("option",{value:"true",children:"Private"})]}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"radius",children:" Radius: "}),Object(l.jsx)("input",{type:"number",name:"radius",value:H,onChange:function(e){return Q(e.target.value)}}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"latitude",children:" Latitude: "}),Object(l.jsx)("input",{type:"array",name:"latitude",value:I,onChange:function(e){return L(e.target.value)}}),Object(l.jsx)("label",{htmlFor:"longitude",children:" Longitude: "}),Object(l.jsx)("input",{type:"array",name:"longitude",value:E,onChange:function(e){return z(e.target.value)}}),Object(l.jsx)("button",{type:"submit",children:"Update Memory"})]})]})]})})}function F(e){var t=Object(n.useState)(""),c=Object(s.a)(t,2),a=c[0],i=c[1],r=Object(n.useState)(""),j=Object(s.a)(r,2),b=j[0],u=j[1],O=Object(n.useState)(""),d=Object(s.a)(O,2),h=d[0],x=d[1];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h1",{children:"Sign Up"}),Object(l.jsxs)("form",{onSubmit:function(t){t.preventDefault(),function(e,t){return o.a.post("/api/auth/signup",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))}(a,b).then((function(t){console.log(t),t.message?(i(""),u(""),x(t.message)):(e.setUser(t),e.history.push("/memories"))})).catch((function(e){return console.log(e)}))},children:[Object(l.jsx)("label",{htmlFor:"username",children:"Username: "}),Object(l.jsx)("input",{type:"text",name:"username",value:a,onChange:function(e){return i(e.target.value)}}),Object(l.jsx)("label",{htmlFor:"password",children:"Password: "}),Object(l.jsx)("input",{type:"password",name:"password",value:b,onChange:function(e){return u(e.target.value)}}),Object(l.jsx)("button",{type:"submit",children:"Sign Up"}),h&&Object(l.jsx)("h3",{children:h})]})]})}function C(e){var t=Object(n.useState)(""),c=Object(s.a)(t,2),a=c[0],i=c[1],r=Object(n.useState)(""),j=Object(s.a)(r,2),b=j[0],u=j[1],O=Object(n.useState)(""),d=Object(s.a)(O,2),h=d[0],x=d[1];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h1",{children:"Log In"}),Object(l.jsxs)("form",{onSubmit:function(t){t.preventDefault(),function(e,t){return o.a.post("/api/auth/login",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))}(a,b).then((function(t){console.log(t),t.message?(i(""),u(""),x(t.message)):(e.setUser(t),e.history.push("/memories/profile"))})).catch((function(e){return console.log(e)}))},children:[Object(l.jsx)("label",{htmlFor:"username",children:"Username: "}),Object(l.jsx)("input",{type:"text",name:"username",value:a,onChange:function(e){return i(e.target.value)}}),Object(l.jsx)("label",{htmlFor:"password",children:"Password: "}),Object(l.jsx)("input",{type:"password",name:"password",value:b,onChange:function(e){return u(e.target.value)}}),Object(l.jsx)("button",{type:"submit",children:"Log In \ud83d\udddd"}),h&&Object(l.jsx)("h3",{children:h})]})]})}var P=c(38),U=["component","user","path","redirectPath"],M=function(e){var t=e.component,c=e.user,n=e.path,a=e.redirectPath,i=void 0===a?"/":a,s=Object(P.a)(e,U);return Object(l.jsx)(h.b,{exact:!0,path:n,render:function(e){return c?Object(l.jsx)(t,Object(r.a)(Object(r.a)(Object(r.a)({},e),s),{},{user:c})):Object(l.jsx)(h.a,{to:i})}})},k=c(85),w=c.n(k);c(169),c(170);var I=function(e){var t=Object(n.useState)(null),c=Object(s.a)(t,2),a=(c[0],c[1],Object(n.useState)(40.748817)),i=Object(s.a)(a,2),j=i[0],O=(i[1],Object(n.useState)(-73.985428)),d=Object(s.a)(O,2),h=d[0],x=(d[1],Object(n.useState)(9)),p=Object(s.a)(x,2),m=p[0],g=(p[1],Object(n.useState)({latitude:j,longitude:h,width:"85vw",height:"100vh",zoom:10})),f=Object(s.a)(g,2),v=f[0],y=f[1],S=Object(n.useState)([]),F=Object(s.a)(S,2),C=F[0],P=F[1],U=Object(n.useState)([]),M=Object(s.a)(U,2),k=(M[0],M[1],Object(n.useState)("")),w=Object(s.a)(k,2),I=(w[0],w[1],e.user._id);return Object(n.useEffect)((function(){o.a.get("/api/memories/user/".concat(I)).then((function(e){console.log("UserId: ",I),console.log("response: ",e),P(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"sidebar",children:["Longitude: ",h," | Latitude: ",j," | Zoom: ",m]}),Object(l.jsxs)(b.e,Object(r.a)(Object(r.a)({},v),{},{mapboxApiAccessToken:"pk.eyJ1Ijoiam9uNjEiLCJhIjoiY2t1ZTZ1Zzc1MWVicjJvbXhpeTF4b2h2bSJ9.U2K0n8U4u5QVCJ0GXI6QHQ",mapStyle:"mapbox://styles/jon61/cku5hizxv2ll918tiz3zbkvhb",trackUserLocation:!0,onViewportChange:function(e){y(e)},children:[Object(l.jsx)(b.a,{style:{right:10,top:100},positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0,label:"Find Me"}),Object(l.jsx)(b.c,{style:{right:10,top:10}}),Object(l.jsx)(b.b,{latitude:42.748817,longitude:-73.985428,children:Object(l.jsx)("h1",{class:"tagline",children:"Hello \u26f5\ufe0f\ud83c\udff4\u200d\u2620\ufe0f"})}),C.map((function(e){return Object(l.jsx)(b.b,{latitude:e.latitude,longitude:e.longitude,children:Object(l.jsxs)("p",{class:"tagline",children:[" ",Object(l.jsx)(u.b,{to:"/memories/".concat(e._id),children:e.title})]})})}))]}))]})};c(171);function L(e){var t=Object(n.useState)([]),c=Object(s.a)(t,2),a=c[0],i=c[1],j=Object(n.useState)([]),b=Object(s.a)(j,2),u=(b[0],b[1],Object(n.useState)([])),O=Object(s.a)(u,2),d=O[0],h=(O[1],e.user._id),x=function(){o.a.get("/api/memories/user/".concat(h)).then((function(e){console.log("UserId: ",h),console.log("response: ",e),i(e.data)})).catch((function(e){return console.log(e)}))};return Object(n.useEffect)((function(){x()}),[]),console.log("The data is: ",a),console.log("fiilteredMemories: ",d),Object(l.jsxs)("div",{children:[Object(l.jsxs)("h1",{id:"greeting",children:[e.user.username,"'s Profile Page "]}),Object(l.jsx)("h2",{id:"User Icon",children:"\ud83d\uddfa"}),Object(l.jsxs)("div",{id:"userMemoryBody",children:[Object(l.jsx)("div",{id:"userMemories",children:a.map((function(e){return Object(l.jsx)(m,Object(r.a)({},e),e._id)}))}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)(p,{refreshMemories:x})]}),Object(l.jsx)("div",{id:"userMapbox",children:Object(l.jsx)(I,Object(r.a)({},e))})]})}w()("http://localhost:5005");var T=function(e){var t=Object(n.useState)(e.user),c=Object(s.a)(t,2),a=c[0],i=c[1],j=function(e){i(e)};return console.log("App js: ",a),Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(x,{user:a,setUser:j}),Object(l.jsxs)(h.d,{children:[Object(l.jsx)(h.b,{exact:!0,path:"/",component:d}),Object(l.jsx)(M,{exact:!0,path:"/memories",user:a,component:v}),Object(l.jsx)(M,Object(r.a)(Object(r.a)({exact:!0,path:"/memories/profile",user:a,setUser:j},e),{},{component:L})),Object(l.jsx)(h.b,{exact:!0,path:"/memories/:id",component:y}),Object(l.jsx)(h.b,{exact:!0,path:"/memories/edit/:id",component:S}),Object(l.jsx)(h.b,{exact:!0,path:"/signup",render:function(e){return Object(l.jsx)(F,Object(r.a)({setUser:j},e))}}),Object(l.jsx)(h.b,{exact:!0,path:"/login",render:function(e){return Object(l.jsx)(C,Object(r.a)({setUser:j},e))}})]})]})},J=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,173)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),i(e),r(e)}))};o.a.get("/api/auth/loggedin").then((function(e){console.log("logged in user: ",e.data);var t=e.data;i.a.render(Object(l.jsx)(u.a,{children:Object(l.jsx)(T,{user:t})}),document.getElementById("root"))})),J()},90:function(e,t,c){},91:function(e,t,c){}},[[172,1,2]]]);
//# sourceMappingURL=main.874a657a.chunk.js.map